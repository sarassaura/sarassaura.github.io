import{w as O}from"./index.e0860776.js";import{$ as D,a0 as H,a1 as J}from"./scheduler.56b66e41.js";var Y=t=>!!t,Z=t=>Array.from(new Set(t)),K=(t,e,...n)=>{for(let o of n){let r=N(e,o);if(r)return r}return t},N=(t,e)=>{let n=e().map(s=>s.toLowerCase()),o=Z(n.flatMap(s=>[s,s.split("-")[0]])),r=t.map(s=>s.toLowerCase());return o.map(s=>{let a=r.findIndex(u=>u===s);return a>=0&&t[a]}).find(Y)};const tt="en",et=["br","en","es"],nt={},rt={},St=(...t)=>K(tt,et,...t);var z=()=>new Proxy(Object.assign(()=>"",{}),{get:(t,e)=>e==="length"?0:z()}),ot=t=>Object.fromEntries(Object.entries(t).map(([e,n])=>e!=="i"&&n&&n!="0"&&[e,n]).filter(Boolean)),st=t=>Object.fromEntries(Object.keys(t).map(e=>{const n=t[e];return[e,Array.isArray(n)?n.map(o=>o==null?void 0:o.trim()):n===!!n?n:n==null?void 0:n.trim()]})),at=t=>{const[e="",...n]=t.split("|"),[o="",r]=e.split(":"),[s,a]=o.split("?");return{k:s,i:r,n:a==="",f:n}},it=t=>!!(t.o||t.r),ut=(t,e)=>{let[n,o]=t.split(":");o||(o=n,n=e);const r=o.split("|"),[s,a,u,f,y,b]=r,w=r.filter(l=>l!==void 0).length;return w===1?{k:n,r:s}:w===2?{k:n,o:s,r:a}:w===3?{k:n,z:s,o:a,r:u}:{k:n,z:s,o:a,t:u,f,m:y,r:b}},ct=/^\{.*\}$/,lt=t=>Object.fromEntries(I(t).split(",").map(e=>e.split(":")).reduce((e,n)=>n.length===2?[...e,n.map(o=>o.trim())]:(e[e.length-1][1]+=","+n[0],e),[])),V=/(\{(?:[^{}]+|\{(?:[^{}]+)*\})*\})/g,I=t=>t.substring(1,t.length-1),ft=(t,e=!0,n="",o="")=>t.split(V).map(r=>{if(!r.match(V))return r;const s=I(r);if(s.startsWith("{"))return ut(I(s),o);const a=at(s);return o=a.k||o,!n&&(n=o),a}).map(r=>{if(typeof r=="string")return r;r.k||(r.k=n||"0");const s=st(r);return e?ot(s):s}),pt=(t,e,n)=>e.reduce((o,r)=>{var s;return(r.match(ct)?(a=>a[o]??a["*"])(lt(r)):(s=t[r])==null?void 0:s.call(t,o))??o},n),dt=(t,{z:e,o:n,t:o,f:r,m:s,r:a},u)=>{switch(e&&u==0?"zero":t.select(u)){case"zero":return e;case"one":return n;case"two":return o;case"few":return r??a;case"many":return s??a;default:return a}},mt=/\?\?/g,wt=(t,e,n,o)=>t.map(r=>{if(typeof r=="string")return r;const{k:s="0",f:a=[]}=r,u=o[s];return it(r)?((typeof u=="boolean"?u?r.o:r.r:dt(e,r,u))||"").replace(mt,u):(""+((a.length?pt(n,a,u):u)??"")).trim()}).join(""),vt=(t,e,n,o)=>{const r=o[0],s=r&&typeof r=="object"&&r.constructor===Object,a=o.length===1&&s?r:o;return wt(t,e,n,a)},yt=(t,e)=>t[e]||(t[e]=ft(e)),bt=(t,e)=>{const n={},o=new Intl.PluralRules(t);return(r,...s)=>vt(yt(n,r),o,e,s)};function ht(t,e,n={}){return q(e,bt(t,n))}var g=(t={},e)=>typeof t=="string"?e.bind(null,t):Object.assign(Object.defineProperty(()=>"","name",{writable:!0}),t),q=(t,e)=>new Proxy(g(t,e),{get:(n,o)=>o===Symbol.iterator?[][Symbol.iterator].bind(Object.values(n).map(r=>g(r,e))):q(n[o],e)}),Et=(t,e={})=>{const n=O(),o=O(z()),r=Lt(n),s=new Proxy({},{get:(u,f)=>f==="subscribe"?o.subscribe:o[f]});return{locale:r,LL:s,setLocale:u=>{n.set(u),o.set(ht(u,t[u],e[u]))}}};function Lt(t){return{subscribe:t.subscribe.bind(t)}}const{locale:Ot,LL:It,setLocale:_t}=Et(nt,rt);function kt(t){const e=t-1;return e*e*e+1}function Ct(t){const e=Math.cos(t*Math.PI*.5);return Math.abs(e)<1e-14?1:1-e}function jt(t){return Math.sin(t*Math.PI/2)}function xt(t,{delay:e=0,duration:n=400,easing:o=H}={}){const r=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:o,css:s=>`opacity: ${s*r}`}}function Ut(t,{delay:e=0,duration:n=400,easing:o=kt,x:r=0,y:s=0,opacity:a=0}={}){const u=getComputedStyle(t),f=+u.opacity,y=u.transform==="none"?"":u.transform,b=f*(1-a),[w,l]=D(r),[E,h]=D(s);return{delay:e,duration:n,easing:o,css:(p,i)=>`
			transform: ${y} translate(${(1-p)*w}${l}, ${(1-p)*E}${h});
			opacity: ${f-b*i}`}}const $t=O(void 0);function Tt(t,e){const{computePosition:n,autoUpdate:o,offset:r,shift:s,flip:a,arrow:u,size:f,autoPlacement:y,hide:b,inline:w}=J($t),l={open:!1,autoUpdateCleanup:()=>{}},E=':is(a[href], button, input, textarea, select, details, [tabindex]):not([tabindex="-1"])';let h;const p="https://www.skeleton.dev/utilities/popups";let i,k;function _(){i=document.querySelector(`[data-popup="${e.target}"]`)??document.createElement("div"),k=i.querySelector(".arrow")??document.createElement("div")}_();function $(){var d,v,P,j,x,U,T,F;if(!i)throw new Error(`The data-popup="${e.target}" element was not found. ${p}`);if(!n)throw new Error(`Floating UI 'computePosition' not found for data-popup="${e.target}". ${p}`);if(!r)throw new Error(`Floating UI 'offset' not found for data-popup="${e.target}". ${p}`);if(!s)throw new Error(`Floating UI 'shift' not found for data-popup="${e.target}". ${p}`);if(!a)throw new Error(`Floating UI 'flip' not found for data-popup="${e.target}". ${p}`);if(!u)throw new Error(`Floating UI 'arrow' not found for data-popup="${e.target}". ${p}`);const c=[];f&&c.push(f((d=e.middleware)==null?void 0:d.size)),y&&c.push(y((v=e.middleware)==null?void 0:v.autoPlacement)),b&&c.push(b((P=e.middleware)==null?void 0:P.hide)),w&&c.push(w((j=e.middleware)==null?void 0:j.inline)),n(t,i,{placement:e.placement??"bottom",middleware:[r(((x=e.middleware)==null?void 0:x.offset)??8),s(((U=e.middleware)==null?void 0:U.shift)??{padding:8}),a((T=e.middleware)==null?void 0:T.flip),u(((F=e.middleware)==null?void 0:F.arrow)??{element:k||null}),...c]}).then(({x:W,y:B,placement:X,middlewareData:G})=>{if(Object.assign(i.style,{left:`${W}px`,top:`${B}px`}),k){const{x:M,y:R}=G.arrow,Q={top:"bottom",right:"left",bottom:"top",left:"right"}[X.split("-")[0]];Object.assign(k.style,{left:M!=null?`${M}px`:"",top:R!=null?`${R}px`:"",right:"",bottom:"",[Q]:"-4px"})}})}function L(){i&&(l.open=!0,e.state&&e.state({state:l.open}),$(),i.style.display="block",i.style.opacity="1",i.style.pointerEvents="auto",i.removeAttribute("inert"),l.autoUpdateCleanup=o(t,i,$),h=Array.from(i==null?void 0:i.querySelectorAll(E)))}function m(c){if(!i)return;const d=parseFloat(window.getComputedStyle(i).transitionDuration.replace("s",""))*1e3;setTimeout(()=>{l.open=!1,e.state&&e.state({state:l.open}),i.style.opacity="0",i.setAttribute("inert",""),l.autoUpdateCleanup&&l.autoUpdateCleanup(),c&&c()},d)}function A(){l.open===!1?L():m()}function S(c){if(l.open===!1||t.contains(c.target))return;if(i&&i.contains(c.target)===!1){m();return}const d=e.closeQuery===void 0?"a[href], button":e.closeQuery,v=i==null?void 0:i.querySelectorAll(d);v==null||v.forEach(P=>{P.contains(c.target)&&m()})}const C=c=>{if(l.open===!1)return;const d=c.key;if(d==="Escape"){c.preventDefault(),t.focus(),m();return}h=Array.from(i==null?void 0:i.querySelectorAll(E)),l.open&&document.activeElement===t&&(d==="ArrowDown"||d==="Tab")&&E.length>0&&h.length>0&&(c.preventDefault(),h[0].focus())};switch(e.event){case"click":t.addEventListener("click",A,!0),window.addEventListener("click",S,!0);break;case"hover":t.addEventListener("mouseover",L,!0),t.addEventListener("mouseleave",()=>m(),!0);break;case"focus-blur":t.addEventListener("focus",A,!0),t.addEventListener("blur",()=>m(),!0);break;case"focus-click":t.addEventListener("focus",L,!0),window.addEventListener("click",S,!0);break;default:throw new Error(`Event value of '${e.event}' is not supported. ${p}`)}return window.addEventListener("keydown",C,!0),$(),{update(c){m(()=>{e=c,$(),_()})},destroy(){t.removeEventListener("click",A,!0),t.removeEventListener("mouseover",L,!0),t.removeEventListener("mouseleave",()=>m(),!0),t.removeEventListener("focus",A,!0),t.removeEventListener("focus",L,!0),t.removeEventListener("blur",()=>m(),!0),window.removeEventListener("click",S,!0),window.removeEventListener("keydown",C,!0)}}}export{It as L,$t as a,Ct as b,jt as c,St as d,xt as e,Ut as f,rt as g,nt as h,Ot as l,Tt as p,_t as s};
